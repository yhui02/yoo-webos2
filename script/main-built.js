define("model/model-page",["require","exports","module","jquery"],function(require,exports,module){require("jquery");var T=function(o){return o.alert=function(){},o.confirm=function(){},o.login=function(){console.log("login")},o.error=function(){o.login.apply()},o._loadPage=function(eleObj,url){eleObj.load(url,{_t:(new Date).getTime()},function(d){})},o}(exports);exports.init=function(o){return o.ajaxHelper=function(){var loadingId="__loading",loadingEle=$("<div>").attr("id",loadingId).html("loading...").css({display:"none",position:"fixed",top:0,right:0,backgroundColor:"DD4B39",padding:"1px 8px"});$("body").append(loadingEle);var loadingEleObj=$("#"+loadingId);loadingEleObj.ajaxStart(function(){$(this).show()}).ajaxStop(function(){$(this).hide()}).ajaxError(function(event,request,settings){T.login(),console.log("ajaxError >> "+settings.url+"	 by "+location.href)}),$.ajaxSetup({error:function(jqXHR,textStatus,errorThrown){try{loadingEleObj.hide()}catch(e){}switch(jqXHR.status){case 403:T.login();break;case 404:T.error();default:}}}),$.browser.msie&&$.browser.version<=8&&$.ajaxSetup({cache:!1})},o}({})}),define("model/model-desktop",["require","exports","module","jquery","tools"],function(require,exports,module){require("jquery");var containerObj=$("#container"),iconsConObj,_init=function(){var setContainerHeight=function(){containerObj.height(document.body.offsetHeight-$("header").height()-4)};window.onresize=setContainerHeight,$(function(){setContainerHeight.apply();var iconsConEle=$('<div id="iconsCon"></div>');containerObj.append(iconsConEle),iconsConObj=$("#iconsCon")})};exports.desktopDialog=function(data){iconsConObj===undefined&&($("html").css("overflow","hidden"),_init.apply());var _T=require("tools");_T.loadCss("library/jquery-ui/css/smoothness/jquery-ui-1.8.21.custom.css"),require(["order!jquery","order!script/library/jquery-ui/js/jquery-ui-1.8.21.custom.min.js"]),$(function(){var _iconsHtmlEle=[];$.each(data,function(i,n){_iconsHtmlEle.push('<div class="span1 dd">'),_iconsHtmlEle.push('  <a id="'+n.id+'" class="dialogBtn btn btn-inverse" href="'+n.url+'" rel="tooltip" title="'+n.title+'" data-type="'+n.type+'">'),_iconsHtmlEle.push('  <i class="icon-folder-close icon-white"></i><br />'+n.name+"</a>"),_iconsHtmlEle.push("</div>")}),_iconsHtmlEle=$(_iconsHtmlEle.join("")),iconsConObj.append(_iconsHtmlEle),require(["bootstrap-tooltip"],function(){iconsConObj.find("a").tooltip({placement:"right"})});var _dialogHtmlEle=[],_dialogIdExt="Dialog";$.each(data,function(i,n){var _id=n.id+_dialogIdExt;_dialogHtmlEle.push('<div id="'+_id+'" class="yooDialog dialogLoading" title="'+n.name+'">'),_dialogHtmlEle.push("</div>")}),_dialogHtmlEle=$(_dialogHtmlEle.join("")),$("body").append(_dialogHtmlEle);var getHtmlHeightForDial=function(){var _height=$("html").height()-40;return _height>2e3?2e3:_height},getHtmlWidthForDial=function(){var _width=$("html").width();return _width>860?860:_width};$.each(data,function(i,n){var _dialogObj=$("#"+n.id+_dialogIdExt);_dialogObj.dialog({autoOpen:!1,height:getHtmlHeightForDial(),width:getHtmlWidthForDial(),minHeight:180,minWidth:380,show:"fade",dragStart:function(event,ui){_dialogObj.css({display:"none"}).parent().addClass("dialogLoading")},dragStop:function(event,ui){_dialogObj.css({display:""}).parent().removeClass("dialogLoading")},resizeStart:function(event,ui){window.onresize=null,_dialogObj.css({display:"none"}).parent().addClass("dialogLoading")},resizeStop:function(event,ui){window.onresize=_dialogResize,_dialogObj.css({display:""}).parent().removeClass("dialogLoading")},close:function(){}})}),$(".dialogBtn").click(function(){var _oId=$(this).attr("id"),_dialogObj=$("#"+_oId+_dialogIdExt),_src=$(this).attr("href"),_type=$(this).attr("data-type");return _dialogObj.dialog("isOpen")?_dialogObj.dialog("moveToTop"):_type=="html"?_dialogObj.dialog("open").load(_src):_dialogObj.dialog("open").html('<iframe border="0" frameborder="0" src="'+_src+'"></iframe>'),$(this).css({color:"#999"}).find("i").addClass("icon-folder-open"),!1}),$(".ui-dialog-titlebar").dblclick(function(){var fw=$("html").width()-2,fh=$("html").height()-2,ft=0;fl=0;var _thisDialogObj=$(this).next(),_w=0,_h=0,_t=0,_l=0;fw==_thisDialogObj.dialog("option","width")&&fh==_thisDialogObj.dialog("option","height")?(_w=720,_h=500,_t=32,_l=40):(_w=fw,_h=fh,_t=ft,_l=fl),_thisDialogObj.dialog("option","position",[_t,_l]),_thisDialogObj.dialog({width:_w,height:_h})});var _dialogResize=function(){$.browser.msie&&$.browser.msie.version<=6||$(".yooDialog").dialog({height:getHtmlHeightForDial()})};window.onresize=_dialogResize})},exports.desktopPage=function(data){iconsConObj===undefined&&_init.apply();var _iconsHtmlEle=[];$.each(data,function(i,n){_iconsHtmlEle.push('<div class="span1 dp">'),_iconsHtmlEle.push('  <a id="'+n.id+'" class="dialogBtn" href="'+n.url+'" data-type="'+n.type+'">'),_iconsHtmlEle.push('  <i class="icon-folder-close"></i>'+n.name+"</a>"),_iconsHtmlEle.push("</div>")}),_iconsHtmlEle=$(_iconsHtmlEle.join("")),$(function(){iconsConObj.append(_iconsHtmlEle),$(".dialogBtn").click(function(){var _containerObj=$("#pageIframe"),_src=$(this).attr("href"),_type=$(this).attr("data-type");if(_type=="html")_containerObj.load(_src).height("100%");else{var _iframHtml='<iframe id="pageIframeCon" name="pageIframeCon" border="0" class="dialogLoading"frameborder="0" src="'+_src+'"></iframe>';_containerObj.html(_iframHtml).height("100%")}return $(this).css({color:"#999"}).find("i").addClass("icon-folder-open"),$(this).siblings().css({color:"#333"}).find("i").removeClass("icon-folder-open"),!1})})}}),define("menu.json",[],function(){return[{id:"a1",name:"测试1",title:"测试1",url:"http://www.baidu.com/",type:"iframe"},{id:"a2",name:"测试2",title:"测试2222",url:"http://jqueryui.com/",type:"iframe"},{id:"a3",name:"测试3",title:"测试3",url:"http://www.virginamerica.com/search.do?cid=PRO_0321"},{id:"a4",name:"测试4",title:"测试4",url:"https://www.xobni.com/learnmore/group/",type:"iframe"},{id:"a5",name:"测试5",title:"测试5，这个是测试5",url:"http://mac.brothersoft.com/",type:"iframe"},{id:"a6",name:"表单0",title:"测试6，这个还是测试",url:"html/test2.html",type:"html"},{id:"a7",name:"测试7",title:"这个是测试7，测试7有些不<br />同，注意了，这确实不同。",url:"html/test.html",type:"iframe"}]}),window.console||(window.console={log:function(msg){}}),requirejs.onError=function(err){throw console.log(err.requireType),err.requireType==="timeout"&&console.log("modules: "+err.requireModules),err},require.config({baseUrl:"./script/",paths:{order:"library/requirejs/order",text:"library/requirejs/text",dojo:"http://ajax.googleapis.com/ajax/libs/dojo/1.7.2/dojo/dojo",jquery:"library/jquery-1.7.2.min","jquery-history":"library/jquery.history","bootstrap-button":"library/bootstrap/bootstrap-button","bootstrap-tooltip":"library/bootstrap/bootstrap-tooltip"},packages:["tools"],waitSeconds:20,urlArgs:"version=1.0.2"}),define("main",["require","exports","module","tools","model/model-page","model/model-desktop","menu.json"],function(require,exports,module){window.T=require("tools")||{};var modelPage=require("model/model-page");T.applyObj(modelPage.init),T=$.extend(T,modelPage),require(["order!jquery","order!bootstrap-button"]);var desktop=require("model/model-desktop"),iconJson=require("menu.json"),_hash=document.location.hash;_hash.indexOf("page")!=-1?desktop.desktopPage(iconJson):desktop.desktopDialog(iconJson),T=$.extend(T,desktop),_hash==""?$(".pageType a:first").addClass("active"):$(".pageType a").each(function(i,n){$(n).attr("href").indexOf(_hash)!=-1&&$(n).addClass("active")}),require(["bootstrap-tooltip"],function(){$(".pageType a").tooltip({placement:"bottom"})}),console.log(T)})